# 1 CPUの使用率

* CPUの使用率とJavaプログラムにとっての意味

* CPUの使用率は`ユーザー時間`と`システム時間`の２つに分類できる
  * Windowsではシステム時間を`特権時間(privileged time)`

* ユーザ時間
  * CPUがアプリケーションのコードを実行している時間の割合を表す

* システム時間
  * CPUがOSのカーネルのコードを実行している時間の割合を表す
  * アプリケーションと無関係ではない
    * アプリケーションが入出力を行った場合、以下のコードを実行する
      * カーネルはファイルをディスクから読み出す
      * バッファーに保持されているデータをネットワークに送り込む
      * etc
    * システムリソースを使うプログラムで、システム時間はより長くなる

* ここで目標は、CPUの使用率を`できるだけ高く`し、その期間を`できるだけ短くすること`
  * CPU使用率100%の状態が長く続いてしまえば他のプログラムが実行されるのを妨げてしまうことになる
  * CPUの本当の意味について検討する

* CPU使用率の値は`ある一定の期間の平均値`を表しているという点
  * この期間はあいまいで、１秒以上、あるいは３０秒
  * 例）あるプログラムの実行に１０分かかり、その間のCPU使用率が５０％だった
    * １００％にあげるようなチューニングを行えたら、パフォーマンスは２倍になり、５分で実行できる
    * さらにパフォーマンスを２倍にできたとしたら、CPU使用率は１００％のままで実行時間は２分３０秒ということになる
  * CPU使用率とは、`プログラムがどの程度効率的にCPUを使えているか`ということを表す

## 参考

* [CPU使用率100%は悪なのか？](https://qiita.com/zd6ir7/items/2cb39f55f3b15af79f6f)