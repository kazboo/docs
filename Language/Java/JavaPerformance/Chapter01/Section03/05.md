# 5. よくあるケースのために最適化する

* `カエルの生茹で`の教訓に惑わされ、パフォーマンスに関するすべての側面をどれも等しく重要だと考えてしまう
  * 頻度の高いユースケースのシナリオに重点を置くべき

* この原則は次のように解釈できる
  * まずプロファイリングを行い、その中で最も多くの時間を費やしている処理に着目する
    * プロファイルの構造の中で末端に位置しているメソッドだけ見ていればよいわけではない
  * パフォーマンスの問題を分析する際には`オッカムの剃刀`を適用すること
    * 最もシンプルに問題を説明できるのは
      * JVMやOSのバグよりもマシンの設定の問題である可能性が高く、新しいコードにバグがある可能性はさらに高い
      * 実はテストケースにバグがあったという可能性もあるが、最初から検討する必要はない
    * アプリケーションの中で頻繁に行われる処理には、シンプルなアルゴリズムを適用する
      * 例）ある数式の近似値を求めるプログラムで、誤差の範囲を10%と1%のどちらにするかユーザーが指定できるとする
        * ほとんどのユーザが10%の誤差でも満足できるなら、1%の処理が遅くなるとしても10%の場合の処理を最適化する

* 本書では適切な調査の結果、システムの中でJavaのコンポーネントが重要なボトルネックと判明してるような状況を想定している

## オッカムの剃刀(Occam’s Razor)

* ウィリアム・オッカム(William of Ockham)が提唱

* `物事をシンプルに捉えよう`という哲学上の思考方法のこと
  * ある事象を説明するのにaとbという二つの事柄で足りるのに、さらにcという事柄を導入した説明をするのは無駄であるとする
  ``` doc
  オッカムは、当時スコラ学という理論に登場する様々な要素を次々に切り捨てていきました。
  このことから、「オッカムの剃刀」は不必要なものを切り落とすという思考方法となりました。
  ```
  * <https://matome.naver.jp/odai/2144214153990125501>