# 1. データベースのモデル

## リレーショナルデータベース

* データベースの形式
  * 階層モデル
  * ネットワークモデル
  * リレーショナルモデル

* 現在のDBの大半はリレーショナルモデルを元にした`リレーショナルデータベース`
  * 表の形式でデータを保存する（行、列）

## 主キー(Primary key)

* 必ずデータを特定できる属性
  * NULL(空)ではダメ、ほかのデータと重複もダメ
  * 通し番号(社員番号、学籍番号 etc)

* 複合キー(Composite key)
  * 主キーは組み合わせてもよい
  * 住所 + 氏名を主キーにする、など

## データベースに対する操作

* 集合演算(Set operation)
  * 和演算(Sum)
    * 二つの表の足し算
    * それぞれの票から全ての行を抜き出して、`新しい表を作る`
    * 重複データは排除する
  * 差演算(Difference)
    * 二つの表の引き算
    * 引かれる表から引く表にある行を削除した、`新しい表を作る`
  * 積演算(Product)
    * 二つの表の共通部分を抜き出して、`新しい表を作る`

* 関係演算(Relational operation)
  * 構造が違う表の演算
  * 選択や射影は一つの表だけでも演算可能

    |||
    |:--|:--|
    |選択|表から、必要な行だけを抜き出す|
    |射影|表から、必要な列だけを抜き出す|
    |結合|二つの表に同じ列があるとき、それを手掛かりに両表をくっつける|

(表A)
|氏名|部署番号|出身地|
|:--|:--|:--|
|鈴木|003|山形県|
|加藤|002|山梨県|
|田中|002|山口県|

(表B)
|部署番号|部署名|常備ドリンク|
|:--|:--|:--|
|001|社長室|コーヒー|
|002|営業部|お茶|
|003|経理部|お湯|

### 射影(Projection)

表Aに関して、氏名と出身地で射影

|氏名|出身地|
|:--|:--|
|鈴木|山形県|
|加藤|山梨県|
|田中|山口県|

### 選択(Selection)

表Aに関して、鈴木と田中で選択

|氏名|部署番号|出身地|
|:--|:--|:--|
|鈴木|002|山形県|
|田中|003|山口県|

### 結合(Join)

表Aと表Bに関して、部署番号をもとに結合

|氏名|部署番号|出身地|部署名|常備ドリンク|
|:--|:--|:--|:--|:--|
|鈴木|003|山形県|経理部|お湯|
|加藤|002|山梨県|営業部|お茶|
|田中|002|山口県|営業部|お茶|