# ページ全体のレイアウトとナビゲーション

レスポンシブWebデザインと相性がよく、今後さらに普及すると思われるフレックスボックスを使用したサンプル

## 実践的なコーディングのために知っておきたいCSSの知識

### CSSの上書き原則

* 一度設定したプロパティを極力書かなくてよいようになっている
  * CSSソースコードが長くなるのを防ぐ
  * 変更が楽になるように

* 次ような法則でスタイルが適用される
  * `継承`
    * 親要素に設定したスタイルの一部は、その子孫要素にも適用される(`継承`)
  * `カスケード`
    * より多くの要素に適用されるスタイルは、特定の要素だけに適用されるスタイルで上書きできる(`詳細度`)
    * 先に出てきたスタイルは、後から出てきたスタイルで上書きできる

* 詳細度
  * セレクタに決められている点数のこと
  * 高いスタイルは低いスタイルを上書きする
    * タイプセレクタなど、より多くの要素に適用されるされるセレクタは詳細度の点数が低い
    * idセレクタなど、より少ない要素にピンポイントで適用されるセレクタは詳細度の点数が高い

  |セレクタの種類|セレクタの例|詳細度(点数)|
  |:--|:--|:--|
  |style属性|&lt;p style="color:red;"&gt;|1000点|
  |idセレクタ|#id_name|100点|
  |クラスセレクタ・属性セレクタ・疑似クラス|.class, [type="text"], :hover|10点|
  |タイプセレクタ・疑似要素|p, ::before|1点|
  |全称セレクタ|*|0点|

  ```html
  <p class="notice">ご注意</p>
  ```
  ```css
  /* 1点(低) */
  p {
      margin: 0;
      color: #000;
  }
  /* 10点(高) */
  .notice {
      color: #f00;
  }
  ```
  最終的に適用されるスタイル
  ```
  margin: 0;
  color: #f00;
  ```

* カスケード
  * 同じセレクタが2回以上出てきた場合(詳細度の点数が同じ)先に出てきたスタイルを、後から出てきたスタイルが上書き
  ```css
  h1 {
      font-size: 20px;
  }
  /* 詳細度が同じ */
  h1 {
      font-size: 18px;
  }
  ```
  適用されるスタイル
  ```css
  font-size: 18px;
  ```

* どうすれば？
  * ページ全体の大まかなスタイルを適用してから、だんだん細かい部分を調整して仕上げる
    * タイプセレクタ > クラスセレクタ > 子孫セレクタ > idセレクタ
    * 詳細度がだんだん高くなる順
  * タイプセレクタには「ページ全体に影響する」CSSを書く
    ```css
    html, body {
        font-size: 16px;
    }
    ```
    ページ全体のフォントサイズを設定するならhtml,bodyの両方に
  * クラスセレクタ(or 子孫セレクタ)を中心に使用する
    * 更新作業のことを考えて、CSSで使用するセレクタにはできるだけ詳細度が低くなるものを使う(後から上書きが可能なため)
    * 子孫セレクタを使う場合、詳細度を低く保つために、できるだけ個別のセレクタの数が少なくなるように書く
    ```html
    <nav>
        <ul>
            <li>home</li>
            <li>download</li>
            <li>contact</li>
        </ul>
    </nav>
    ```
    ```
    x nav ul li { ... }
    x nav ol li { ... }
    o nav li { ... }
    ```
  * 詳細度が極めて高いidセレクタは極力使わないようにする
  * idセレクタよりもさらに詳細度が高いstyle属性は、公開用webサイトでは使ってはいけない
    * 詳細度が高いだけでなく、HTMLドキュメントに紛れ込んでしまうため管理が非常に厄介
  * `!important`も原則つかってはいけない
    * そのプロパティはセレクタの詳細度に関係なく、必ず適用される
    ```css
    .item {
        display: block !important;
        margin: 0;
    }
    ```
    無理やりCSSを適用させるために使いがちだが、特別な理由がない限り使わないようにする  
    後からデザインを変更する必要が出てきたときに、とても困ることになる
