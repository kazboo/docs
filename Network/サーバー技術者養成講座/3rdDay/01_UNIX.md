# UNIXの歴史と利用

## 歴史

* 1969年、AT&Tのベル研究所でKen Thompson, Dennis M.Ritchie, Brian W.Kernighanらが開発

* 主な特徴
  * 当時肥大化したOSであるMulticsを反省
  * 小さくまとめられ、簡単にネットワークに接続できる

* Ken Thompson
  * カリフォルニア大学バークレー校客員教授
  * 彼を中心として1978年からBSD-UNIXの開発が始まった

* UCB
  * University California Berkeley
  * カリフォルニア大学バークレイ校

* BSD
  * Berkeley Software Distribution
  * バークレイソフトウェア版(UNIX)

### 代表的なUNIXの特徴

* 一般の商用UNIXでの3大UNIX
  * SUNのSoraris
  * HPのHP-UX
  * IBMのAIX

### Soraris(旧SUN/現Oracle社の商用UNIX)

* Bill Joyらが1982年に開発したSUNの最初のOS SunOS1.0は4.1BSDをベースに4.2BSDに先駆けてTCP/IPを搭載した
* このSun OSはV4.1で現在のSolarisに継承されている
* V2でSystem-VベースのUNIXとなる
* V10のSolaris 10(フリー入手可能)とオープンソースとしてのOpenSolarisがある

### HP-UX(HP社の商用UNIX)

* HP社はワークステーションHP9000上で稼働するSVR2.0ベースのUNIXを1985年に発表した
* HP社はその後、アポロコンピュータ社のDomainシステムを統合して今日のHP-UXに発展している

### AIX(IBM社の商用UNIX)

* 1985年にSystem-Vベースに開発されたUNIX
* 当初はRISCチップを搭載したワークステーションRS/6000用のOSだった
* その後、ほかの機種にも広げられる
* 2017年現在、最新はAIX7.2

### FreeBSD(フリーUNIX)

* Linux同様PC上で動作するフリーUNIX
* 1993年開発される
* インストールがコマンド・ベースでありユーザフォーラムが研究グループ的な色彩が強い
  * そのためLinuxのような脚光は浴びていない
* 研究色彩的な技術的特徴により学術研究機関では広く利用されている
* 同様な経緯をたどっているPC用のフリーUNIXにNetBSDがある

## 利用

* UNIXのブート（起動）からユーザ処理受付までの処理ステップ
  * ブート処理から初期化、そしてユーザ処理待ちという、プロセスを実行単位とするマルチプロセス処理

### ブート処理

1. ブートプログラムが稼働して、カーネルをメモリ上にロードする  
    * カーネル
      * CPUやメモリなどのリソースやタスクを管理するなど、OSの基本部分となるソフトウェア
1. カーネルがログの開始、リソースの検出・チェック、起動および設定などを行う
1. 最後にinitプログラムを実行する
1. initはシステムのチェックやマウントを行い、以降すべての親プロセスとなる
1. メモリ上に常駐し、全プロセスの起動、設定および制御、ネットワーク・サーバを含む常駐のサーバ・サービスの起動を行う
1. initは最後に、ユーザ独自のアプリケーションを起動するrc.localというスクリプトを実行後、ユーザの利用を可能にする

* これらはシェルスクリプトで実行される
  * シェルスクリプト
    * テキスト形式で書かれた命令ファイルで実行する

![ブート処理](./img/BootUnix.svg)

## 停止、再起動

* スーパーユーザ(システム管理者,アカウント名：root)が`shutdown`, `reboot`, `halt`コマンドなどを入力することで実行される

* 従来、リモートからは停止・再起動を行うことはできても、電源のONは不可能だった
  * NICのWOL(Wake ON LAN)機能により可能になった